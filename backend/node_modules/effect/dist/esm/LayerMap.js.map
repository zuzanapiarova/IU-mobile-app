{"version":3,"file":"LayerMap.js","names":["Context","Effect","FiberRefsPatch","identity","core","Layer","RcMap","Runtime","Scope","TypeId","Symbol","for","make","fnUntraced","lookup","options","context","memoMap","unsafeMap","has","CurrentMemoMap","key","get","makeMemoMap","rcMap","scopeWith","scope","diffFiberRefs","buildWithMemoMap","pipe","map","patch","layer","scopedContext","withFiberRuntime","fiber","unsafeGet","currentContext","oldRefs","getFiberRefs","newRefs","id","revert","diff","setFiberRefs","as","addFinalizerExit","void","runtimeEffect","fiberRefs","succeed","runtimeFlags","defaultRuntime","idleTimeToLive","preloadKeys","unwrapScoped","runtime","flatMap","invalidate","fromRecord","layers","preload","Object","keys","undefined","Service","Err","globalThis","Error","limit","stackTraceLimit","creationError","TagClass","TagClass_","setPrototypeOf","getPrototypeOf","GenericTag","defineProperty","stack","DefaultWithoutDependencies","scoped","Default","dependencies","length","provide","layerMap"],"sources":["../../src/LayerMap.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}